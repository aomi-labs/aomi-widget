{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "aomi-frame",
  "type": "registry:component",
  "description": "Full assistant shell with thread list and runtime wiring.",
  "files": [
    {
      "type": "registry:component",
      "path": "components/aomi-frame.tsx",
      "content": "\"use client\";\n\nimport { useState, useCallback, type CSSProperties, type ReactNode } from \"react\";\nimport {\n  AomiRuntimeProviderWithNotifications,\n  ThreadContextProvider,\n  WalletSystemMessageEmitter,\n  cn,\n  type WalletButtonState,\n  type WalletFooterProps,\n  useCurrentThreadMetadata,\n  useThreadContext,\n} from \"@aomi-labs/react\";\nimport { Thread } from \"@/components/assistant-ui/thread\";\nimport { ThreadListSidebar } from \"@/components/assistant-ui/threadlist-sidebar\";\nimport {\n  SidebarInset,\n  SidebarProvider,\n  SidebarTrigger,\n} from \"@/components/ui/sidebar\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbList,\n  BreadcrumbSeparator,\n} from \"@/components/ui/breadcrumb\";\nimport { NotificationContainer } from \"@/components/ui/notification\";\n\ntype AomiFrameProps = {\n  width?: CSSProperties[\"width\"];\n  height?: CSSProperties[\"height\"];\n  className?: string;\n  style?: CSSProperties;\n  /** Render prop for wallet footer - receives wallet state and setter from lib */\n  walletFooter?: (props: WalletFooterProps) => ReactNode;\n  /** Additional content to render inside the frame */\n  children?: ReactNode;\n};\n\nexport const AomiFrame = ({\n  width = \"100%\",\n  height = \"80vh\",\n  className,\n  style,\n  walletFooter,\n  children,\n}: AomiFrameProps) => {\n  const backendUrl = process.env.NEXT_PUBLIC_BACKEND_URL ?? \"http://localhost:8080\";\n  const frameStyle: CSSProperties = { width, height, ...style };\n\n  // Local wallet state (replaces Zustand)\n  const [wallet, setWalletState] = useState<WalletButtonState>({\n    isConnected: false,\n    address: undefined,\n    chainId: undefined,\n    ensName: undefined,\n  });\n\n  const setWallet = useCallback((data: Partial<WalletButtonState>) => {\n    setWalletState((prev) => ({ ...prev, ...data }));\n  }, []);\n\n  return (\n    <ThreadContextProvider>\n      <AomiRuntimeProviderWithNotifications\n        backendUrl={backendUrl}\n        publicKey={wallet.address}\n      >\n        {/* Internal: watches wallet state and sends system messages */}\n        <WalletSystemMessageEmitter wallet={wallet} />\n        <NotificationContainer />\n        <FrameShell\n          className={className}\n          frameStyle={frameStyle}\n          walletFooter={walletFooter}\n          wallet={wallet}\n          setWallet={setWallet}\n        >\n          {children}\n        </FrameShell>\n      </AomiRuntimeProviderWithNotifications>\n    </ThreadContextProvider>\n  );\n};\n\ntype FrameShellProps = {\n  className?: string;\n  frameStyle: CSSProperties;\n  walletFooter?: (props: WalletFooterProps) => ReactNode;\n  wallet: WalletButtonState;\n  setWallet: (data: Partial<WalletButtonState>) => void;\n  children?: ReactNode;\n};\n\nconst FrameShell = ({\n  className,\n  frameStyle,\n  walletFooter,\n  wallet,\n  setWallet,\n  children,\n}: FrameShellProps) => {\n  const currentTitle = useCurrentThreadMetadata()?.title ?? \"New Chat\";\n  const { currentThreadId, threadViewKey } = useThreadContext();\n\n  return (\n    <SidebarProvider>\n      {children}\n      <div\n        className={cn(\n          \"flex h-full w-full overflow-hidden rounded-2xl bg-white shadow-2xl dark:bg-neutral-950\",\n          className\n        )}\n        style={frameStyle}\n      >\n        <ThreadListSidebar footer={walletFooter?.({ wallet, setWallet })} />\n        <SidebarInset className=\"relative\">\n          <header className=\"flex h-14 mt-1 shrink-0 items-center gap-2 border-b px-3\">\n            <SidebarTrigger />\n            <Separator orientation=\"vertical\" className=\"mr-2 h-4\" />\n            <Breadcrumb>\n              <BreadcrumbList>\n                <BreadcrumbItem className=\"hidden md:block\">\n                  {currentTitle}\n                </BreadcrumbItem>\n                <BreadcrumbSeparator className=\"hidden md:block\" />\n              </BreadcrumbList>\n            </Breadcrumb>\n          </header>\n          <div className=\"flex-1 overflow-hidden\">\n            <Thread key={`${currentThreadId}-${threadViewKey}`} />\n          </div>\n        </SidebarInset>\n      </div>\n    </SidebarProvider>\n  );\n};\n"
    }
  ],
  "dependencies": [
    "@aomi-labs/react"
  ],
  "registryDependencies": [
    "https://widget.aomi.dev/r/assistant-thread.json",
    "https://widget.aomi.dev/r/assistant-threadlist-sidebar.json",
    "sidebar",
    "separator",
    "breadcrumb"
  ]
}